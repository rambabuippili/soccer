pipeline {
  agent any

 stage('Maven Package'){
	sh 'mvn clean package'
	sh 'mv target/soccer-api*.jar target/socker-api.jar'
 }
 
 stage('Build Docker Imager'){
   sh 'docker build -t rambabuippili/socker-api:0.0.1 .'
 }
 
 stage('Push to Docker Hub'){ 
	 withCredentials([string(credentialsId: 'github-pwd', variable: 'dockerHubPwd')]) {
        sh "docker login -u rambabuippili -p ${dockerHubPwd}"
     }
	 sh 'docker push rambabuippili/socker-api:0.0.1'
 }

 }
